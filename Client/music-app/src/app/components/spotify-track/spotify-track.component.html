<!-- <input type="text" id="searchInput" [(ngModel)]="keyword" />
<button (click)="searchSongs(keyword)">Search</button>
 -->

<div class="flex justify-center items-center relative top-10">
    <mat-form-field>
        <mat-label *ngIf="!isInputFocused && !keyword">Search</mat-label>
        <input matInput placeholder="Enter your search term" type="text" [(ngModel)]="keyword" (focus)="onInputFocus()"
            (blur)="onInputBlur()" class="text-sm" />
        <mat-icon matSuffix (click)="searchSongs(keyword);" class="cursor-pointer">search</mat-icon>
    </mat-form-field>
</div>

<mat-card *ngIf="spotifyTrack.length > 0" class="relative top-5">
    <mat-card-content>
        <ul class="list-none p-0 flex flex-wrap">
            <li *ngFor="let track of spotifyTrack; let i = index"
                class="mb-4 w-full sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/4">
                <mat-card-content class="flex items-center">
                    <img *ngIf="track.image" [src]="track.image" alt="Album Art" class="mr-4 w-52 h-52 cursor-pointer"
                        (click)="selectTrack(track)" />

                    <div *ngIf="showContent" class="modal-overlay">
                        <div class="modal-content">
                            <div *ngIf="selectedTrack">
                                <div class="flex justify-center">
                                    <img *ngIf="selectedTrack.image" [src]="selectedTrack.image" alt="Album Art"
                                        class="mr-4 w-52 h-52 cursor-pointer">
                                </div>
                                <div class="mt-4">

                                    <p><strong>Name:</strong> {{ selectedTrack.name }}</p>
                                    <p><strong>Artists:</strong> {{ selectedTrack.artists }}</p>
                                    <p><strong>Album:</strong> {{ selectedTrack.album }}</p>

                                    <p *ngIf="selectedTrack.preview_url">
                                        <span class="cursor-pointer" (click)="toggleAudio()">
                                            <mat-icon>{{ isPlaying ? 'stop' : 'play_arrow' }}</mat-icon>
                                        </span>
                                        {{currentTimeDisplay}} / {{endTimeDisplay}}
                                    </p>
                                </div>
                                <div class="flex justify-center mt-4">

                                    <button mat-mini-fab color="warn"
                                        aria-label="Example icon button with a filter list icon"
                                        (click)="closeModal()"><mat-icon>close</mat-icon> </button>


                                </div>
                            </div>
                        </div>
                    </div>
                </mat-card-content>
            </li>
        </ul>
    </mat-card-content>
</mat-card>

<!-- <p *ngIf="selectedTrack.preview_url">
                                        <span class="cursor-pointer"
                                            (click)="toggleAudio(selectedTrack.preview_url, selectedTrack.id, i)">
                                            <mat-icon>{{ isPlaying[i] ? 'stop' : 'play_arrow' }}</mat-icon>
                                        </span>
                                        {{ currentTimeDisplay }}
                                    </p> -->

<!-- <div *ngIf="showContent" class="modal-overlay">
    <div class="modal-content">
        <p>This is the content you want to display when the image is clicked.</p>
        <div>
            <p><strong>Name:</strong> {{ track.name }}</p>
            <p><strong>Artists:</strong> {{ track.artists }}</p>
            <p><strong>Album:</strong> {{ track.album }}</p>
            <p *ngIf="track.preview_url">
                <span class="cursor-pointer" (click)="toggleAudio(track.preview_url, track.id, i)">
                    <mat-icon>{{ isPlaying[i] ? 'stop' : 'play_arrow' }}</mat-icon>
                </span>
                {{ currentTimeDisplay }}
            </p>
        </div>

        <button mat-button (click)="closeModal()">Close</button>
    </div>
</div> -->